{"version":3,"file":"node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js.js","mappings":"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","sources":["./node_modules/@ionic/core/dist/esm/ion-refresher_2.entry.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { w as writeTask, r as registerInstance, d as createEvent, e as readTask, h, f as getElement, H as Host } from './index-a1a47f01.js';\nimport { g as getTimeGivenProgression } from './cubic-bezier-fe2083dc.js';\nimport { I as ION_CONTENT_CLASS_SELECTOR, b as ION_CONTENT_ELEMENT_SELECTOR, p as printIonContentErrorMsg, g as getScrollElement } from './index-f3946ac1.js';\nimport { t as transitionEndAsync, c as componentOnReady, l as clamp, g as getElementRoot, r as raf } from './helpers-be245865.js';\nimport { d as hapticImpact, I as ImpactStyle } from './haptic-554688a5.js';\nimport { b as getIonMode, c as config } from './ionic-global-94f25d1b.js';\nimport { c as createAnimation } from './animation-6a0c5338.js';\nimport { E as ENABLE_HTML_CONTENT_DEFAULT, a as sanitizeDOMString } from './config-49c88215.js';\nimport { h as caretBackSharp, i as arrowDown } from './index-f7dc70ba.js';\nimport { S as SPINNERS } from './spinner-configs-964f7cf3.js';\nimport './index-9b0d46f4.js';\nimport './capacitor-59395cbd.js';\nimport './index-a5d50daf.js';\n\nconst getRefresherAnimationType = (contentEl) => {\n    const previousSibling = contentEl.previousElementSibling;\n    const hasHeader = previousSibling !== null && previousSibling.tagName === 'ION-HEADER';\n    return hasHeader ? 'translate' : 'scale';\n};\nconst createPullingAnimation = (type, pullingSpinner, refresherEl) => {\n    return type === 'scale'\n        ? createScaleAnimation(pullingSpinner, refresherEl)\n        : createTranslateAnimation(pullingSpinner, refresherEl);\n};\nconst createBaseAnimation = (pullingRefresherIcon) => {\n    const spinner = pullingRefresherIcon.querySelector('ion-spinner');\n    const circle = spinner.shadowRoot.querySelector('circle');\n    const spinnerArrowContainer = pullingRefresherIcon.querySelector('.spinner-arrow-container');\n    const arrowContainer = pullingRefresherIcon.querySelector('.arrow-container');\n    const arrow = arrowContainer ? arrowContainer.querySelector('ion-icon') : null;\n    const baseAnimation = createAnimation().duration(1000).easing('ease-out');\n    const spinnerArrowContainerAnimation = createAnimation()\n        .addElement(spinnerArrowContainer)\n        .keyframes([\n        { offset: 0, opacity: '0.3' },\n        { offset: 0.45, opacity: '0.3' },\n        { offset: 0.55, opacity: '1' },\n        { offset: 1, opacity: '1' },\n    ]);\n    const circleInnerAnimation = createAnimation()\n        .addElement(circle)\n        .keyframes([\n        { offset: 0, strokeDasharray: '1px, 200px' },\n        { offset: 0.2, strokeDasharray: '1px, 200px' },\n        { offset: 0.55, strokeDasharray: '100px, 200px' },\n        { offset: 1, strokeDasharray: '100px, 200px' },\n    ]);\n    const circleOuterAnimation = createAnimation()\n        .addElement(spinner)\n        .keyframes([\n        { offset: 0, transform: 'rotate(-90deg)' },\n        { offset: 1, transform: 'rotate(210deg)' },\n    ]);\n    /**\n     * Only add arrow animation if present\n     * this allows users to customize the spinners\n     * without errors being thrown\n     */\n    if (arrowContainer && arrow) {\n        const arrowContainerAnimation = createAnimation()\n            .addElement(arrowContainer)\n            .keyframes([\n            { offset: 0, transform: 'rotate(0deg)' },\n            { offset: 0.3, transform: 'rotate(0deg)' },\n            { offset: 0.55, transform: 'rotate(280deg)' },\n            { offset: 1, transform: 'rotate(400deg)' },\n        ]);\n        const arrowAnimation = createAnimation()\n            .addElement(arrow)\n            .keyframes([\n            { offset: 0, transform: 'translateX(2px) scale(0)' },\n            { offset: 0.3, transform: 'translateX(2px) scale(0)' },\n            { offset: 0.55, transform: 'translateX(-1.5px) scale(1)' },\n            { offset: 1, transform: 'translateX(-1.5px) scale(1)' },\n        ]);\n        baseAnimation.addAnimation([arrowContainerAnimation, arrowAnimation]);\n    }\n    return baseAnimation.addAnimation([spinnerArrowContainerAnimation, circleInnerAnimation, circleOuterAnimation]);\n};\nconst createScaleAnimation = (pullingRefresherIcon, refresherEl) => {\n    /**\n     * Do not take the height of the refresher icon\n     * because at this point the DOM has not updated,\n     * so the refresher icon is still hidden with\n     * display: none.\n     * The `ion-refresher` container height\n     * is roughly the amount we need to offset\n     * the icon by when pulling down.\n     */\n    const height = refresherEl.clientHeight;\n    const spinnerAnimation = createAnimation()\n        .addElement(pullingRefresherIcon)\n        .keyframes([\n        { offset: 0, transform: `scale(0) translateY(-${height}px)` },\n        { offset: 1, transform: 'scale(1) translateY(100px)' },\n    ]);\n    return createBaseAnimation(pullingRefresherIcon).addAnimation([spinnerAnimation]);\n};\nconst createTranslateAnimation = (pullingRefresherIcon, refresherEl) => {\n    /**\n     * Do not take the height of the refresher icon\n     * because at this point the DOM has not updated,\n     * so the refresher icon is still hidden with\n     * display: none.\n     * The `ion-refresher` container height\n     * is roughly the amount we need to offset\n     * the icon by when pulling down.\n     */\n    const height = refresherEl.clientHeight;\n    const spinnerAnimation = createAnimation()\n        .addElement(pullingRefresherIcon)\n        .keyframes([\n        { offset: 0, transform: `translateY(-${height}px)` },\n        { offset: 1, transform: 'translateY(100px)' },\n    ]);\n    return createBaseAnimation(pullingRefresherIcon).addAnimation([spinnerAnimation]);\n};\nconst createSnapBackAnimation = (pullingRefresherIcon) => {\n    return createAnimation()\n        .duration(125)\n        .addElement(pullingRefresherIcon)\n        .fromTo('transform', 'translateY(var(--ion-pulling-refresher-translate, 100px))', 'translateY(0px)');\n};\n// iOS Native Refresher\n// -----------------------------\nconst setSpinnerOpacity = (spinner, opacity) => {\n    spinner.style.setProperty('opacity', opacity.toString());\n};\nconst handleScrollWhilePulling = (ticks, numTicks, pullAmount) => {\n    const max = 1;\n    writeTask(() => {\n        ticks.forEach((el, i) => {\n            /**\n             * Compute the opacity of each tick\n             * mark as a percentage of the pullAmount\n             * offset by max / numTicks so\n             * the tick marks are shown staggered.\n             */\n            const min = i * (max / numTicks);\n            const range = max - min;\n            const start = pullAmount - min;\n            const progression = clamp(0, start / range, 1);\n            el.style.setProperty('opacity', progression.toString());\n        });\n    });\n};\nconst handleScrollWhileRefreshing = (spinner, lastVelocityY) => {\n    writeTask(() => {\n        // If user pulls down quickly, the spinner should spin faster\n        spinner.style.setProperty('--refreshing-rotation-duration', lastVelocityY >= 1.0 ? '0.5s' : '2s');\n        spinner.style.setProperty('opacity', '1');\n    });\n};\nconst translateElement = (el, value, duration = 200) => {\n    if (!el) {\n        return Promise.resolve();\n    }\n    const trans = transitionEndAsync(el, duration);\n    writeTask(() => {\n        el.style.setProperty('transition', `${duration}ms all ease-out`);\n        if (value === undefined) {\n            el.style.removeProperty('transform');\n        }\n        else {\n            el.style.setProperty('transform', `translate3d(0px, ${value}, 0px)`);\n        }\n    });\n    return trans;\n};\n// Utils\n// -----------------------------\n/**\n * In order to use the native iOS refresher the device must support rubber band scrolling.\n * As part of this, we need to exclude Desktop Safari because it has a slightly different rubber band effect that is not compatible with the native refresher in Ionic.\n *\n * We also need to be careful not to include devices that spoof their user agent.\n * For example, when using iOS emulation in Chrome the user agent will be spoofed such that\n * navigator.maxTouchPointer > 0. To work around this,\n * we check to see if the apple-pay-logo is supported as a named image which is only\n * true on Apple devices.\n *\n * We previously checked referencEl.style.webkitOverflowScrolling to explicitly check\n * for rubber band support. However, this property was removed on iPadOS and it's possible\n * that this will be removed on iOS in the future too.\n *\n */\nconst supportsRubberBandScrolling = () => {\n    return navigator.maxTouchPoints > 0 && CSS.supports('background: -webkit-named-image(apple-pay-logo-black)');\n};\nconst shouldUseNativeRefresher = async (referenceEl, mode) => {\n    const refresherContent = referenceEl.querySelector('ion-refresher-content');\n    if (!refresherContent) {\n        return Promise.resolve(false);\n    }\n    await new Promise((resolve) => componentOnReady(refresherContent, resolve));\n    const pullingSpinner = referenceEl.querySelector('ion-refresher-content .refresher-pulling ion-spinner');\n    const refreshingSpinner = referenceEl.querySelector('ion-refresher-content .refresher-refreshing ion-spinner');\n    return (pullingSpinner !== null &&\n        refreshingSpinner !== null &&\n        ((mode === 'ios' && supportsRubberBandScrolling()) || mode === 'md'));\n};\n\nconst refresherIosCss = \"ion-refresher{top:0;display:none;position:absolute;width:100%;height:60px;pointer-events:none;z-index:-1}@supports (inset-inline-start: 0){ion-refresher{inset-inline-start:0}}@supports not (inset-inline-start: 0){ion-refresher{left:0}:host-context([dir=rtl]) ion-refresher{left:unset;right:unset;right:0}[dir=rtl] ion-refresher{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){ion-refresher:dir(rtl){left:unset;right:unset;right:0}}}ion-refresher.refresher-active{display:block}ion-refresher-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{-webkit-transform-origin:center;transform-origin:center;-webkit-transition:200ms;transition:200ms;font-size:30px;text-align:center}:host-context([dir=rtl]) .refresher-pulling-icon,:host-context([dir=rtl]) .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] .refresher-pulling-icon,[dir=rtl] .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){.refresher-pulling-icon:dir(rtl),.refresher-refreshing-icon:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center}ion-refresher-content .arrow-container{display:none}.refresher-pulling ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.refresher-refreshing ion-refresher-content .refresher-refreshing{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-completing ion-refresher-content .refresher-refreshing{display:block}.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-native .refresher-pulling-text,.refresher-native .refresher-refreshing-text{display:none}.refresher-ios .refresher-pulling-icon,.refresher-ios .refresher-refreshing-icon{color:var(--ion-text-color, #000)}.refresher-ios .refresher-pulling-text,.refresher-ios .refresher-refreshing-text{color:var(--ion-text-color, #000)}.refresher-ios .refresher-refreshing .spinner-lines-ios line,.refresher-ios .refresher-refreshing .spinner-lines-small-ios line,.refresher-ios .refresher-refreshing .spinner-crescent circle{stroke:var(--ion-text-color, #000)}.refresher-ios .refresher-refreshing .spinner-bubbles circle,.refresher-ios .refresher-refreshing .spinner-circles circle,.refresher-ios .refresher-refreshing .spinner-dots circle{fill:var(--ion-text-color, #000)}ion-refresher.refresher-native{display:block;z-index:1}ion-refresher.refresher-native ion-spinner{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0}.refresher-native .refresher-refreshing ion-spinner{--refreshing-rotation-duration:2s;display:none;-webkit-animation:var(--refreshing-rotation-duration) ease-out refresher-rotate forwards;animation:var(--refreshing-rotation-duration) ease-out refresher-rotate forwards}.refresher-native .refresher-refreshing{display:none;-webkit-animation:250ms linear refresher-pop forwards;animation:250ms linear refresher-pop forwards}.refresher-native ion-spinner{width:32px;height:32px;color:var(--ion-color-step-450, #747577)}.refresher-native.refresher-refreshing .refresher-pulling ion-spinner,.refresher-native.refresher-completing .refresher-pulling ion-spinner{display:none}.refresher-native.refresher-refreshing .refresher-refreshing ion-spinner,.refresher-native.refresher-completing .refresher-refreshing ion-spinner{display:block}.refresher-native.refresher-pulling .refresher-pulling ion-spinner{display:block}.refresher-native.refresher-pulling .refresher-refreshing ion-spinner{display:none}.refresher-native.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0) rotate(180deg);transform:scale(0) rotate(180deg);-webkit-transition:300ms;transition:300ms}@-webkit-keyframes refresher-pop{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes refresher-pop{0%{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes refresher-rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes refresher-rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}\";\nconst IonRefresherIosStyle0 = refresherIosCss;\n\nconst refresherMdCss = \"ion-refresher{top:0;display:none;position:absolute;width:100%;height:60px;pointer-events:none;z-index:-1}@supports (inset-inline-start: 0){ion-refresher{inset-inline-start:0}}@supports not (inset-inline-start: 0){ion-refresher{left:0}:host-context([dir=rtl]) ion-refresher{left:unset;right:unset;right:0}[dir=rtl] ion-refresher{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){ion-refresher:dir(rtl){left:unset;right:unset;right:0}}}ion-refresher.refresher-active{display:block}ion-refresher-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.refresher-pulling,.refresher-refreshing{display:none;width:100%}.refresher-pulling-icon,.refresher-refreshing-icon{-webkit-transform-origin:center;transform-origin:center;-webkit-transition:200ms;transition:200ms;font-size:30px;text-align:center}:host-context([dir=rtl]) .refresher-pulling-icon,:host-context([dir=rtl]) .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] .refresher-pulling-icon,[dir=rtl] .refresher-refreshing-icon{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){.refresher-pulling-icon:dir(rtl),.refresher-refreshing-icon:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}.refresher-pulling-text,.refresher-refreshing-text{font-size:16px;text-align:center}ion-refresher-content .arrow-container{display:none}.refresher-pulling ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling{display:block}.refresher-ready ion-refresher-content .refresher-pulling-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.refresher-refreshing ion-refresher-content .refresher-refreshing{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling{display:block}.refresher-cancelling ion-refresher-content .refresher-pulling-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-completing ion-refresher-content .refresher-refreshing{display:block}.refresher-completing ion-refresher-content .refresher-refreshing-icon{-webkit-transform:scale(0);transform:scale(0)}.refresher-native .refresher-pulling-text,.refresher-native .refresher-refreshing-text{display:none}.refresher-md .refresher-pulling-icon,.refresher-md .refresher-refreshing-icon{color:var(--ion-text-color, #000)}.refresher-md .refresher-pulling-text,.refresher-md .refresher-refreshing-text{color:var(--ion-text-color, #000)}.refresher-md .refresher-refreshing .spinner-lines-md line,.refresher-md .refresher-refreshing .spinner-lines-small-md line,.refresher-md .refresher-refreshing .spinner-crescent circle{stroke:var(--ion-text-color, #000)}.refresher-md .refresher-refreshing .spinner-bubbles circle,.refresher-md .refresher-refreshing .spinner-circles circle,.refresher-md .refresher-refreshing .spinner-dots circle{fill:var(--ion-text-color, #000)}ion-refresher.refresher-native{display:block;z-index:1}ion-refresher.refresher-native ion-spinner{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;width:24px;height:24px;color:var(--ion-color-primary, #3880ff)}ion-refresher.refresher-native .spinner-arrow-container{display:inherit}ion-refresher.refresher-native .arrow-container{display:block;position:absolute;width:24px;height:24px}ion-refresher.refresher-native .arrow-container ion-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;bottom:-4px;position:absolute;color:var(--ion-color-primary, #3880ff);font-size:12px}ion-refresher.refresher-native.refresher-pulling ion-refresher-content .refresher-pulling,ion-refresher.refresher-native.refresher-ready ion-refresher-content .refresher-pulling{display:-ms-flexbox;display:flex}ion-refresher.refresher-native.refresher-refreshing ion-refresher-content .refresher-refreshing,ion-refresher.refresher-native.refresher-completing ion-refresher-content .refresher-refreshing,ion-refresher.refresher-native.refresher-cancelling ion-refresher-content .refresher-refreshing{display:-ms-flexbox;display:flex}ion-refresher.refresher-native .refresher-pulling-icon{-webkit-transform:translateY(calc(-100% - 10px));transform:translateY(calc(-100% - 10px))}ion-refresher.refresher-native .refresher-pulling-icon,ion-refresher.refresher-native .refresher-refreshing-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;border-radius:100%;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:-ms-flexbox;display:flex;border:1px solid var(--ion-color-step-200, #ececec);background:var(--ion-color-step-250, #ffffff);-webkit-box-shadow:0px 1px 6px rgba(0, 0, 0, 0.1);box-shadow:0px 1px 6px rgba(0, 0, 0, 0.1)}\";\nconst IonRefresherMdStyle0 = refresherMdCss;\n\nconst Refresher = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionRefresh = createEvent(this, \"ionRefresh\", 7);\n        this.ionPull = createEvent(this, \"ionPull\", 7);\n        this.ionStart = createEvent(this, \"ionStart\", 7);\n        this.appliedStyles = false;\n        this.didStart = false;\n        this.progress = 0;\n        this.pointerDown = false;\n        this.needsCompletion = false;\n        this.didRefresh = false;\n        this.lastVelocityY = 0;\n        this.animations = [];\n        this.nativeRefresher = false;\n        this.state = 1 /* RefresherState.Inactive */;\n        this.pullMin = 60;\n        this.pullMax = this.pullMin + 60;\n        this.closeDuration = '280ms';\n        this.snapbackDuration = '280ms';\n        this.pullFactor = 1;\n        this.disabled = false;\n    }\n    disabledChanged() {\n        if (this.gesture) {\n            this.gesture.enable(!this.disabled);\n        }\n    }\n    async checkNativeRefresher() {\n        const useNativeRefresher = await shouldUseNativeRefresher(this.el, getIonMode(this));\n        if (useNativeRefresher && !this.nativeRefresher) {\n            const contentEl = this.el.closest('ion-content');\n            this.setupNativeRefresher(contentEl);\n        }\n        else if (!useNativeRefresher) {\n            this.destroyNativeRefresher();\n        }\n    }\n    destroyNativeRefresher() {\n        if (this.scrollEl && this.scrollListenerCallback) {\n            this.scrollEl.removeEventListener('scroll', this.scrollListenerCallback);\n            this.scrollListenerCallback = undefined;\n        }\n        this.nativeRefresher = false;\n    }\n    async resetNativeRefresher(el, state) {\n        this.state = state;\n        if (getIonMode(this) === 'ios') {\n            await translateElement(el, undefined, 300);\n        }\n        else {\n            await transitionEndAsync(this.el.querySelector('.refresher-refreshing-icon'), 200);\n        }\n        this.didRefresh = false;\n        this.needsCompletion = false;\n        this.pointerDown = false;\n        this.animations.forEach((ani) => ani.destroy());\n        this.animations = [];\n        this.progress = 0;\n        this.state = 1 /* RefresherState.Inactive */;\n    }\n    async setupiOSNativeRefresher(pullingSpinner, refreshingSpinner) {\n        this.elementToTransform = this.scrollEl;\n        const ticks = pullingSpinner.shadowRoot.querySelectorAll('svg');\n        let MAX_PULL = this.scrollEl.clientHeight * 0.16;\n        const NUM_TICKS = ticks.length;\n        writeTask(() => ticks.forEach((el) => el.style.setProperty('animation', 'none')));\n        this.scrollListenerCallback = () => {\n            // If pointer is not on screen or refresher is not active, ignore scroll\n            if (!this.pointerDown && this.state === 1 /* RefresherState.Inactive */) {\n                return;\n            }\n            readTask(() => {\n                // PTR should only be active when overflow scrolling at the top\n                const scrollTop = this.scrollEl.scrollTop;\n                const refresherHeight = this.el.clientHeight;\n                if (scrollTop > 0) {\n                    /**\n                     * If refresher is refreshing and user tries to scroll\n                     * progressively fade refresher out/in\n                     */\n                    if (this.state === 8 /* RefresherState.Refreshing */) {\n                        const ratio = clamp(0, scrollTop / (refresherHeight * 0.5), 1);\n                        writeTask(() => setSpinnerOpacity(refreshingSpinner, 1 - ratio));\n                        return;\n                    }\n                    return;\n                }\n                if (this.pointerDown) {\n                    if (!this.didStart) {\n                        this.didStart = true;\n                        this.ionStart.emit();\n                    }\n                    // emit \"pulling\" on every move\n                    if (this.pointerDown) {\n                        this.ionPull.emit();\n                    }\n                }\n                /**\n                 * We want to delay the start of this gesture by ~30px\n                 * when initially pulling down so the refresher does not\n                 * overlap with the content. But when letting go of the\n                 * gesture before the refresher completes, we want the\n                 * refresher tick marks to quickly fade out.\n                 */\n                const offset = this.didStart ? 30 : 0;\n                const pullAmount = (this.progress = clamp(0, (Math.abs(scrollTop) - offset) / MAX_PULL, 1));\n                const shouldShowRefreshingSpinner = this.state === 8 /* RefresherState.Refreshing */ || pullAmount === 1;\n                if (shouldShowRefreshingSpinner) {\n                    if (this.pointerDown) {\n                        handleScrollWhileRefreshing(refreshingSpinner, this.lastVelocityY);\n                    }\n                    if (!this.didRefresh) {\n                        this.beginRefresh();\n                        this.didRefresh = true;\n                        hapticImpact({ style: ImpactStyle.Light });\n                        /**\n                         * Translate the content element otherwise when pointer is removed\n                         * from screen the scroll content will bounce back over the refresher\n                         */\n                        if (!this.pointerDown) {\n                            translateElement(this.elementToTransform, `${refresherHeight}px`);\n                        }\n                    }\n                }\n                else {\n                    this.state = 2 /* RefresherState.Pulling */;\n                    handleScrollWhilePulling(ticks, NUM_TICKS, pullAmount);\n                }\n            });\n        };\n        this.scrollEl.addEventListener('scroll', this.scrollListenerCallback);\n        this.gesture = (await import('./index-2cf77112.js')).createGesture({\n            el: this.scrollEl,\n            gestureName: 'refresher',\n            gesturePriority: 31,\n            direction: 'y',\n            threshold: 5,\n            onStart: () => {\n                this.pointerDown = true;\n                if (!this.didRefresh) {\n                    translateElement(this.elementToTransform, '0px');\n                }\n                /**\n                 * If the content had `display: none` when\n                 * the refresher was initialized, its clientHeight\n                 * will be 0. When the gesture starts, the content\n                 * will be visible, so try to get the correct\n                 * client height again. This is most common when\n                 * using the refresher in an ion-menu.\n                 */\n                if (MAX_PULL === 0) {\n                    MAX_PULL = this.scrollEl.clientHeight * 0.16;\n                }\n            },\n            onMove: (ev) => {\n                this.lastVelocityY = ev.velocityY;\n            },\n            onEnd: () => {\n                this.pointerDown = false;\n                this.didStart = false;\n                if (this.needsCompletion) {\n                    this.resetNativeRefresher(this.elementToTransform, 32 /* RefresherState.Completing */);\n                    this.needsCompletion = false;\n                }\n                else if (this.didRefresh) {\n                    readTask(() => translateElement(this.elementToTransform, `${this.el.clientHeight}px`));\n                }\n            },\n        });\n        this.disabledChanged();\n    }\n    async setupMDNativeRefresher(contentEl, pullingSpinner, refreshingSpinner) {\n        const circle = getElementRoot(pullingSpinner).querySelector('circle');\n        const pullingRefresherIcon = this.el.querySelector('ion-refresher-content .refresher-pulling-icon');\n        const refreshingCircle = getElementRoot(refreshingSpinner).querySelector('circle');\n        if (circle !== null && refreshingCircle !== null) {\n            writeTask(() => {\n                circle.style.setProperty('animation', 'none');\n                // This lines up the animation on the refreshing spinner with the pulling spinner\n                refreshingSpinner.style.setProperty('animation-delay', '-655ms');\n                refreshingCircle.style.setProperty('animation-delay', '-655ms');\n            });\n        }\n        this.gesture = (await import('./index-2cf77112.js')).createGesture({\n            el: this.scrollEl,\n            gestureName: 'refresher',\n            gesturePriority: 31,\n            direction: 'y',\n            threshold: 5,\n            canStart: () => this.state !== 8 /* RefresherState.Refreshing */ &&\n                this.state !== 32 /* RefresherState.Completing */ &&\n                this.scrollEl.scrollTop === 0,\n            onStart: (ev) => {\n                this.progress = 0;\n                ev.data = { animation: undefined, didStart: false, cancelled: false };\n            },\n            onMove: (ev) => {\n                if ((ev.velocityY < 0 && this.progress === 0 && !ev.data.didStart) || ev.data.cancelled) {\n                    ev.data.cancelled = true;\n                    return;\n                }\n                if (!ev.data.didStart) {\n                    ev.data.didStart = true;\n                    this.state = 2 /* RefresherState.Pulling */;\n                    // When ion-refresher is being used with a custom scroll target, the overflow styles need to be applied directly instead of via a css variable\n                    const { scrollEl } = this;\n                    const overflowProperty = scrollEl.matches(ION_CONTENT_CLASS_SELECTOR) ? 'overflow' : '--overflow';\n                    writeTask(() => scrollEl.style.setProperty(overflowProperty, 'hidden'));\n                    const animationType = getRefresherAnimationType(contentEl);\n                    const animation = createPullingAnimation(animationType, pullingRefresherIcon, this.el);\n                    ev.data.animation = animation;\n                    animation.progressStart(false, 0);\n                    this.ionStart.emit();\n                    this.animations.push(animation);\n                    return;\n                }\n                // Since we are using an easing curve, slow the gesture tracking down a bit\n                this.progress = clamp(0, (ev.deltaY / 180) * 0.5, 1);\n                ev.data.animation.progressStep(this.progress);\n                this.ionPull.emit();\n            },\n            onEnd: (ev) => {\n                if (!ev.data.didStart) {\n                    return;\n                }\n                this.gesture.enable(false);\n                const { scrollEl } = this;\n                const overflowProperty = scrollEl.matches(ION_CONTENT_CLASS_SELECTOR) ? 'overflow' : '--overflow';\n                writeTask(() => scrollEl.style.removeProperty(overflowProperty));\n                if (this.progress <= 0.4) {\n                    ev.data.animation.progressEnd(0, this.progress, 500).onFinish(() => {\n                        this.animations.forEach((ani) => ani.destroy());\n                        this.animations = [];\n                        this.gesture.enable(true);\n                        this.state = 1 /* RefresherState.Inactive */;\n                    });\n                    return;\n                }\n                const progress = getTimeGivenProgression([0, 0], [0, 0], [1, 1], [1, 1], this.progress)[0];\n                const snapBackAnimation = createSnapBackAnimation(pullingRefresherIcon);\n                this.animations.push(snapBackAnimation);\n                writeTask(async () => {\n                    pullingRefresherIcon.style.setProperty('--ion-pulling-refresher-translate', `${progress * 100}px`);\n                    ev.data.animation.progressEnd();\n                    await snapBackAnimation.play();\n                    this.beginRefresh();\n                    ev.data.animation.destroy();\n                    this.gesture.enable(true);\n                });\n            },\n        });\n        this.disabledChanged();\n    }\n    async setupNativeRefresher(contentEl) {\n        if (this.scrollListenerCallback || !contentEl || this.nativeRefresher || !this.scrollEl) {\n            return;\n        }\n        /**\n         * If using non-native refresher before make sure\n         * we clean up any old CSS. This can happen when\n         * a user manually calls the refresh method in a\n         * component create callback before the native\n         * refresher is setup.\n         */\n        this.setCss(0, '', false, '');\n        this.nativeRefresher = true;\n        const pullingSpinner = this.el.querySelector('ion-refresher-content .refresher-pulling ion-spinner');\n        const refreshingSpinner = this.el.querySelector('ion-refresher-content .refresher-refreshing ion-spinner');\n        if (getIonMode(this) === 'ios') {\n            this.setupiOSNativeRefresher(pullingSpinner, refreshingSpinner);\n        }\n        else {\n            this.setupMDNativeRefresher(contentEl, pullingSpinner, refreshingSpinner);\n        }\n    }\n    componentDidUpdate() {\n        this.checkNativeRefresher();\n    }\n    async connectedCallback() {\n        if (this.el.getAttribute('slot') !== 'fixed') {\n            console.error('Make sure you use: <ion-refresher slot=\"fixed\">');\n            return;\n        }\n        const contentEl = this.el.closest(ION_CONTENT_ELEMENT_SELECTOR);\n        if (!contentEl) {\n            printIonContentErrorMsg(this.el);\n            return;\n        }\n        /**\n         * Waits for the content to be ready before querying the scroll\n         * or the background content element.\n         */\n        componentOnReady(contentEl, async () => {\n            const customScrollTarget = contentEl.querySelector(ION_CONTENT_CLASS_SELECTOR);\n            /**\n             * Query the custom scroll target (if available), first. In refresher implementations,\n             * the ion-refresher element will always be a direct child of ion-content (slot=\"fixed\"). By\n             * querying the custom scroll target first and falling back to the ion-content element,\n             * the correct scroll element will be returned by the implementation.\n             */\n            this.scrollEl = await getScrollElement(customScrollTarget !== null && customScrollTarget !== void 0 ? customScrollTarget : contentEl);\n            /**\n             * Query the background content element from the host ion-content element directly.\n             */\n            this.backgroundContentEl = await contentEl.getBackgroundElement();\n            if (await shouldUseNativeRefresher(this.el, getIonMode(this))) {\n                this.setupNativeRefresher(contentEl);\n            }\n            else {\n                this.gesture = (await import('./index-2cf77112.js')).createGesture({\n                    el: contentEl,\n                    gestureName: 'refresher',\n                    gesturePriority: 31,\n                    direction: 'y',\n                    threshold: 20,\n                    passive: false,\n                    canStart: () => this.canStart(),\n                    onStart: () => this.onStart(),\n                    onMove: (ev) => this.onMove(ev),\n                    onEnd: () => this.onEnd(),\n                });\n                this.disabledChanged();\n            }\n        });\n    }\n    disconnectedCallback() {\n        this.destroyNativeRefresher();\n        this.scrollEl = undefined;\n        if (this.gesture) {\n            this.gesture.destroy();\n            this.gesture = undefined;\n        }\n    }\n    /**\n     * Call `complete()` when your async operation has completed.\n     * For example, the `refreshing` state is while the app is performing\n     * an asynchronous operation, such as receiving more data from an\n     * AJAX request. Once the data has been received, you then call this\n     * method to signify that the refreshing has completed and to close\n     * the refresher. This method also changes the refresher's state from\n     * `refreshing` to `completing`.\n     */\n    async complete() {\n        if (this.nativeRefresher) {\n            this.needsCompletion = true;\n            // Do not reset scroll el until user removes pointer from screen\n            if (!this.pointerDown) {\n                raf(() => raf(() => this.resetNativeRefresher(this.elementToTransform, 32 /* RefresherState.Completing */)));\n            }\n        }\n        else {\n            this.close(32 /* RefresherState.Completing */, '120ms');\n        }\n    }\n    /**\n     * Changes the refresher's state from `refreshing` to `cancelling`.\n     */\n    async cancel() {\n        if (this.nativeRefresher) {\n            // Do not reset scroll el until user removes pointer from screen\n            if (!this.pointerDown) {\n                raf(() => raf(() => this.resetNativeRefresher(this.elementToTransform, 16 /* RefresherState.Cancelling */)));\n            }\n        }\n        else {\n            this.close(16 /* RefresherState.Cancelling */, '');\n        }\n    }\n    /**\n     * A number representing how far down the user has pulled.\n     * The number `0` represents the user hasn't pulled down at all. The\n     * number `1`, and anything greater than `1`, represents that the user\n     * has pulled far enough down that when they let go then the refresh will\n     * happen. If they let go and the number is less than `1`, then the\n     * refresh will not happen, and the content will return to it's original\n     * position.\n     */\n    getProgress() {\n        return Promise.resolve(this.progress);\n    }\n    canStart() {\n        if (!this.scrollEl) {\n            return false;\n        }\n        if (this.state !== 1 /* RefresherState.Inactive */) {\n            return false;\n        }\n        // if the scrollTop is greater than zero then it's\n        // not possible to pull the content down yet\n        if (this.scrollEl.scrollTop > 0) {\n            return false;\n        }\n        return true;\n    }\n    onStart() {\n        this.progress = 0;\n        this.state = 1 /* RefresherState.Inactive */;\n        this.memoizeOverflowStyle();\n    }\n    onMove(detail) {\n        if (!this.scrollEl) {\n            return;\n        }\n        // this method can get called like a bazillion times per second,\n        // so it's built to be as efficient as possible, and does its\n        // best to do any DOM read/writes only when absolutely necessary\n        // if multi-touch then get out immediately\n        const ev = detail.event;\n        if (ev.touches !== undefined && ev.touches.length > 1) {\n            return;\n        }\n        // do nothing if it's actively refreshing\n        // or it's in the way of closing\n        // or this was never a startY\n        if ((this.state & 56 /* RefresherState._BUSY_ */) !== 0) {\n            return;\n        }\n        const pullFactor = Number.isNaN(this.pullFactor) || this.pullFactor < 0 ? 1 : this.pullFactor;\n        const deltaY = detail.deltaY * pullFactor;\n        // don't bother if they're scrolling up\n        // and have not already started dragging\n        if (deltaY <= 0) {\n            // the current Y is higher than the starting Y\n            // so they scrolled up enough to be ignored\n            this.progress = 0;\n            this.state = 1 /* RefresherState.Inactive */;\n            if (this.appliedStyles) {\n                // reset the styles only if they were applied\n                this.setCss(0, '', false, '');\n                return;\n            }\n            return;\n        }\n        if (this.state === 1 /* RefresherState.Inactive */) {\n            // this refresh is not already actively pulling down\n            // get the content's scrollTop\n            const scrollHostScrollTop = this.scrollEl.scrollTop;\n            // if the scrollTop is greater than zero then it's\n            // not possible to pull the content down yet\n            if (scrollHostScrollTop > 0) {\n                this.progress = 0;\n                return;\n            }\n            // content scrolled all the way to the top, and dragging down\n            this.state = 2 /* RefresherState.Pulling */;\n        }\n        // prevent native scroll events\n        if (ev.cancelable) {\n            ev.preventDefault();\n        }\n        // the refresher is actively pulling at this point\n        // move the scroll element within the content element\n        this.setCss(deltaY, '0ms', true, '');\n        if (deltaY === 0) {\n            // don't continue if there's no delta yet\n            this.progress = 0;\n            return;\n        }\n        const pullMin = this.pullMin;\n        // set pull progress\n        this.progress = deltaY / pullMin;\n        // emit \"start\" if it hasn't started yet\n        if (!this.didStart) {\n            this.didStart = true;\n            this.ionStart.emit();\n        }\n        // emit \"pulling\" on every move\n        this.ionPull.emit();\n        // do nothing if the delta is less than the pull threshold\n        if (deltaY < pullMin) {\n            // ensure it stays in the pulling state, cuz its not ready yet\n            this.state = 2 /* RefresherState.Pulling */;\n            return;\n        }\n        if (deltaY > this.pullMax) {\n            // they pulled farther than the max, so kick off the refresh\n            this.beginRefresh();\n            return;\n        }\n        // pulled farther than the pull min!!\n        // it is now in the `ready` state!!\n        // if they let go then it'll refresh, kerpow!!\n        this.state = 4 /* RefresherState.Ready */;\n        return;\n    }\n    onEnd() {\n        // only run in a zone when absolutely necessary\n        if (this.state === 4 /* RefresherState.Ready */) {\n            // they pulled down far enough, so it's ready to refresh\n            this.beginRefresh();\n        }\n        else if (this.state === 2 /* RefresherState.Pulling */) {\n            // they were pulling down, but didn't pull down far enough\n            // set the content back to it's original location\n            // and close the refresher\n            // set that the refresh is actively cancelling\n            this.cancel();\n        }\n        else if (this.state === 1 /* RefresherState.Inactive */) {\n            /**\n             * The pull to refresh gesture was aborted\n             * so we should immediately restore any overflow styles\n             * that have been modified. Do not call this.cancel\n             * because the styles will only be reset after a timeout.\n             * If the gesture is aborted then scrolling should be\n             * available right away.\n             */\n            this.restoreOverflowStyle();\n        }\n    }\n    beginRefresh() {\n        // assumes we're already back in a zone\n        // they pulled down far enough, so it's ready to refresh\n        this.state = 8 /* RefresherState.Refreshing */;\n        // place the content in a hangout position while it thinks\n        this.setCss(this.pullMin, this.snapbackDuration, true, '');\n        // emit \"refresh\" because it was pulled down far enough\n        // and they let go to begin refreshing\n        this.ionRefresh.emit({\n            complete: this.complete.bind(this),\n        });\n    }\n    close(state, delay) {\n        // create fallback timer incase something goes wrong with transitionEnd event\n        setTimeout(() => {\n            this.state = 1 /* RefresherState.Inactive */;\n            this.progress = 0;\n            this.didStart = false;\n            /**\n             * Reset any overflow styles so the\n             * user can scroll again.\n             */\n            this.setCss(0, '0ms', false, '', true);\n        }, 600);\n        // reset the styles on the scroll element\n        // set that the refresh is actively cancelling/completing\n        this.state = state;\n        this.setCss(0, this.closeDuration, true, delay);\n    }\n    setCss(y, duration, overflowVisible, delay, shouldRestoreOverflowStyle = false) {\n        if (this.nativeRefresher) {\n            return;\n        }\n        this.appliedStyles = y > 0;\n        writeTask(() => {\n            if (this.scrollEl && this.backgroundContentEl) {\n                const scrollStyle = this.scrollEl.style;\n                const backgroundStyle = this.backgroundContentEl.style;\n                scrollStyle.transform = backgroundStyle.transform = y > 0 ? `translateY(${y}px) translateZ(0px)` : '';\n                scrollStyle.transitionDuration = backgroundStyle.transitionDuration = duration;\n                scrollStyle.transitionDelay = backgroundStyle.transitionDelay = delay;\n                scrollStyle.overflow = overflowVisible ? 'hidden' : '';\n            }\n            /**\n             * Reset the overflow styles only once\n             * the pull to refresh effect has been closed.\n             * This ensures that the gesture is done\n             * and the refresh operation has either\n             * been aborted or has completed.\n             */\n            if (shouldRestoreOverflowStyle) {\n                this.restoreOverflowStyle();\n            }\n        });\n    }\n    memoizeOverflowStyle() {\n        if (this.scrollEl) {\n            const { overflow, overflowX, overflowY } = this.scrollEl.style;\n            this.overflowStyles = {\n                overflow: overflow !== null && overflow !== void 0 ? overflow : '',\n                overflowX: overflowX !== null && overflowX !== void 0 ? overflowX : '',\n                overflowY: overflowY !== null && overflowY !== void 0 ? overflowY : '',\n            };\n        }\n    }\n    restoreOverflowStyle() {\n        if (this.overflowStyles !== undefined && this.scrollEl !== undefined) {\n            const { overflow, overflowX, overflowY } = this.overflowStyles;\n            this.scrollEl.style.overflow = overflow;\n            this.scrollEl.style.overflowX = overflowX;\n            this.scrollEl.style.overflowY = overflowY;\n            this.overflowStyles = undefined;\n        }\n    }\n    render() {\n        const mode = getIonMode(this);\n        return (h(Host, { key: '96f4f595ebdb92a12755b642398691bcaab9f7c1', slot: \"fixed\", class: {\n                [mode]: true,\n                // Used internally for styling\n                [`refresher-${mode}`]: true,\n                'refresher-native': this.nativeRefresher,\n                'refresher-active': this.state !== 1 /* RefresherState.Inactive */,\n                'refresher-pulling': this.state === 2 /* RefresherState.Pulling */,\n                'refresher-ready': this.state === 4 /* RefresherState.Ready */,\n                'refresher-refreshing': this.state === 8 /* RefresherState.Refreshing */,\n                'refresher-cancelling': this.state === 16 /* RefresherState.Cancelling */,\n                'refresher-completing': this.state === 32 /* RefresherState.Completing */,\n            } }));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"disabled\": [\"disabledChanged\"]\n    }; }\n};\nRefresher.style = {\n    ios: IonRefresherIosStyle0,\n    md: IonRefresherMdStyle0\n};\n\nconst RefresherContent = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.customHTMLEnabled = config.get('innerHTMLTemplatesEnabled', ENABLE_HTML_CONTENT_DEFAULT);\n        this.pullingIcon = undefined;\n        this.pullingText = undefined;\n        this.refreshingSpinner = undefined;\n        this.refreshingText = undefined;\n    }\n    componentWillLoad() {\n        if (this.pullingIcon === undefined) {\n            /**\n             * The native iOS refresher uses a spinner instead of\n             * an icon, so we need to see if this device supports\n             * the native iOS refresher.\n             */\n            const hasRubberBandScrolling = supportsRubberBandScrolling();\n            const mode = getIonMode(this);\n            const overflowRefresher = hasRubberBandScrolling ? 'lines' : arrowDown;\n            this.pullingIcon = config.get('refreshingIcon', mode === 'ios' && hasRubberBandScrolling ? config.get('spinner', overflowRefresher) : 'circular');\n        }\n        if (this.refreshingSpinner === undefined) {\n            const mode = getIonMode(this);\n            this.refreshingSpinner = config.get('refreshingSpinner', config.get('spinner', mode === 'ios' ? 'lines' : 'circular'));\n        }\n    }\n    renderPullingText() {\n        const { customHTMLEnabled, pullingText } = this;\n        if (customHTMLEnabled) {\n            return h(\"div\", { class: \"refresher-pulling-text\", innerHTML: sanitizeDOMString(pullingText) });\n        }\n        return h(\"div\", { class: \"refresher-pulling-text\" }, pullingText);\n    }\n    renderRefreshingText() {\n        const { customHTMLEnabled, refreshingText } = this;\n        if (customHTMLEnabled) {\n            return h(\"div\", { class: \"refresher-refreshing-text\", innerHTML: sanitizeDOMString(refreshingText) });\n        }\n        return h(\"div\", { class: \"refresher-refreshing-text\" }, refreshingText);\n    }\n    render() {\n        const pullingIcon = this.pullingIcon;\n        const hasSpinner = pullingIcon != null && SPINNERS[pullingIcon] !== undefined;\n        const mode = getIonMode(this);\n        return (h(Host, { key: 'cf3caa51c4aba8a95622f6d32cafa90b683b9d6e', class: mode }, h(\"div\", { key: '5ad70801104bbea873d3525206660c52e4447903', class: \"refresher-pulling\" }, this.pullingIcon && hasSpinner && (h(\"div\", { key: '0f95df169fd367528bfaa5d9ccf6690a613609c4', class: \"refresher-pulling-icon\" }, h(\"div\", { key: '4b8f0465a19f017751b207807c32e1fe00fda433', class: \"spinner-arrow-container\" }, h(\"ion-spinner\", { key: '77e60179d76f0d17f8f2dc3518f97a2a924418e6', name: this.pullingIcon, paused: true }), mode === 'md' && this.pullingIcon === 'circular' && (h(\"div\", { key: 'f78f63f08f071bead1bfe655bae6394f8a219d91', class: \"arrow-container\" }, h(\"ion-icon\", { key: '4d833d134d2b221cae2dfb0611d4029f2d664db5', icon: caretBackSharp, \"aria-hidden\": \"true\" })))))), this.pullingIcon && !hasSpinner && (h(\"div\", { key: 'e6db19d7fa324363d2a7c3c046510f4c8461f7e6', class: \"refresher-pulling-icon\" }, h(\"ion-icon\", { key: '66c2ef1a53c5809f49891de515da5f55d9bf8dcc', icon: this.pullingIcon, lazy: false, \"aria-hidden\": \"true\" }))), this.pullingText !== undefined && this.renderPullingText()), h(\"div\", { key: '80c413e21d362a5bb0419fcd13092453b3445cee', class: \"refresher-refreshing\" }, this.refreshingSpinner && (h(\"div\", { key: '0d5511f9644de26332a1a9ed39b160691fab74d9', class: \"refresher-refreshing-icon\" }, h(\"ion-spinner\", { key: '54e4a96b081c7b453a98e00cceea7c086268a450', name: this.refreshingSpinner }))), this.refreshingText !== undefined && this.renderRefreshingText())));\n    }\n    get el() { return getElement(this); }\n};\n\nexport { Refresher as ion_refresher, RefresherContent as ion_refresher_content };\n"],"names":["w","writeTask","r","registerInstance","d","createEvent","e","readTask","h","f","getElement","H","Host","g","getTimeGivenProgression","I","ION_CONTENT_CLASS_SELECTOR","b","ION_CONTENT_ELEMENT_SELECTOR","p","printIonContentErrorMsg","getScrollElement","t","transitionEndAsync","c","componentOnReady","l","clamp","getElementRoot","raf","hapticImpact","ImpactStyle","getIonMode","config","createAnimation","E","ENABLE_HTML_CONTENT_DEFAULT","a","sanitizeDOMString","caretBackSharp","i","arrowDown","S","SPINNERS","getRefresherAnimationType","contentEl","previousSibling","previousElementSibling","hasHeader","tagName","createPullingAnimation","type","pullingSpinner","refresherEl","createScaleAnimation","createTranslateAnimation","createBaseAnimation","pullingRefresherIcon","spinner","querySelector","circle","shadowRoot","spinnerArrowContainer","arrowContainer","arrow","baseAnimation","duration","easing","spinnerArrowContainerAnimation","addElement","keyframes","offset","opacity","circleInnerAnimation","strokeDasharray","circleOuterAnimation","transform","arrowContainerAnimation","arrowAnimation","addAnimation","height","clientHeight","spinnerAnimation","createSnapBackAnimation","fromTo","setSpinnerOpacity","style","setProperty","toString","handleScrollWhilePulling","ticks","numTicks","pullAmount","max","forEach","el","min","range","start","progression","handleScrollWhileRefreshing","lastVelocityY","translateElement","value","Promise","resolve","trans","undefined","removeProperty","supportsRubberBandScrolling","navigator","maxTouchPoints","CSS","supports","shouldUseNativeRefresher","referenceEl","mode","refresherContent","refreshingSpinner","refresherIosCss","IonRefresherIosStyle0","refresherMdCss","IonRefresherMdStyle0","Refresher","constructor","hostRef","ionRefresh","ionPull","ionStart","appliedStyles","didStart","progress","pointerDown","needsCompletion","didRefresh","animations","nativeRefresher","state","pullMin","pullMax","closeDuration","snapbackDuration","pullFactor","disabled","disabledChanged","gesture","enable","checkNativeRefresher","useNativeRefresher","closest","setupNativeRefresher","destroyNativeRefresher","scrollEl","scrollListenerCallback","removeEventListener","resetNativeRefresher","ani","destroy","setupiOSNativeRefresher","elementToTransform","querySelectorAll","MAX_PULL","NUM_TICKS","length","scrollTop","refresherHeight","ratio","emit","Math","abs","shouldShowRefreshingSpinner","beginRefresh","Light","addEventListener","createGesture","gestureName","gesturePriority","direction","threshold","onStart","onMove","ev","velocityY","onEnd","setupMDNativeRefresher","refreshingCircle","canStart","data","animation","cancelled","overflowProperty","matches","animationType","progressStart","push","deltaY","progressStep","progressEnd","onFinish","snapBackAnimation","play","setCss","componentDidUpdate","connectedCallback","getAttribute","console","error","customScrollTarget","backgroundContentEl","getBackgroundElement","passive","disconnectedCallback","complete","close","cancel","getProgress","memoizeOverflowStyle","detail","event","touches","Number","isNaN","scrollHostScrollTop","cancelable","preventDefault","restoreOverflowStyle","bind","delay","setTimeout","y","overflowVisible","shouldRestoreOverflowStyle","scrollStyle","backgroundStyle","transitionDuration","transitionDelay","overflow","overflowX","overflowY","overflowStyles","render","key","slot","class","watchers","ios","md","RefresherContent","customHTMLEnabled","get","pullingIcon","pullingText","refreshingText","componentWillLoad","hasRubberBandScrolling","overflowRefresher","renderPullingText","innerHTML","renderRefreshingText","hasSpinner","name","paused","icon","lazy","ion_refresher","ion_refresher_content"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}